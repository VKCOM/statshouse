---
sidebar_position: 1
title: Требования к системе
---

import ShardReplicas from '../img/shard-replicas.png'
import LocalDisks from '../img/local-disks.png'

# Требования к системе

**Требования к программному обеспечению:** компоненты StatsHouse можно устанавливать только на Linux-системы.

**Требования к аппаратному обеспечению:** ознакомьтесь с приведёнными ниже рекомендациями, касающимися
[машин для установки ClickHouse](#машины-для-установки-clickhouse), [дисков для резервного хранения](#диски-для-резервного-хранения) и 
[установки в облако](#установка-в-облако).

## Машины для установки ClickHouse

1. Машины должны соответствовать
   [требованиям для работы базы данных ClickHouse](https://clickhouse.com/docs/ru/operations/requirements).
2. На каждый шард должно приходиться по три реплики. Шардов может быть сколько угодно (один или несколько).

<img src={ShardReplicas} width="500"/>

Узнайте больше о
[распределении данных между репликами](../overview/components.md#работа-при-отказе-агрегатора).

## Диски для резервного хранения

Если агрегатор недоступен, отвечает с ошибкой или не может вставить данные в базу ClickHouse,
StatsHouse хранит данные локально, чтобы не потерять данные:

<img src={LocalDisks} width="500"/>

:::important
Убедитесь, что на диске достаточно места для хранения данных, полученных в результате **шести часов** работы 
агента или агрегатора.
:::

Узнайте больше о [работе при отказе агрегатора](../overview/components.md#работа-при-отказе-агрегатора).

## Установка в облако

StatsHouse — не облачное приложение. Мы рекомендуем устанавливать компоненты StatsHouse на физические машины, а 
не в поды или виртуальные машины с коротким жизенным циклом. Если необходимо использовать виртуальную машину для 
установки агента, она должна быть полным аналогом физической машины.

Узнайте больше об
[установке агентов в поды Kubernetes](../overview/components.md#установка-агентов-в-подах-kubernetes).

---
sidebar_position: 3
---
import CreateMetric from '../img/create-metric.png'
import NameMetric from '../img/name-new-metric.png'

# Как создать метрику

<!-- TOC -->
* [Как создать метрику в интерфейсе StatsHouse](#как-создать-метрику-в-интерфейсе-statshouse)
* [Часто задаваемые вопросы о создании метрик](#часто-задаваемые-вопросы-о-создании-метрик)
    * ["Можно ли не создавать метрику вручную, а просто отправить в неё данные?"](#можно-ли-не-создавать-метрику-вручную-а-просто-отправить-в-неё-данные)
    * ["Можно ли автоматизировать создание метрик?"](#можно-ли-автоматизировать-создание-метрик)
    * ["Сколько метрик можно создать?"](#сколько-метрик-можно-создать)
    * ["А если я отправлю слишком много данных? Могу ли я перегрузить StatsHouse или испортить другие метрики?"](#а-если-я-отправлю-слишком-много-данных-могу-ли-я-перегрузить-statshouse-или-испортить-другие-метрики)
    * ["Можно ли переименовать метрику?"](#можно-ли-переименовать-метрику)
    * ["Я хочу спроектировать метрику заново. Что лучше: изменить старую или создать новую?"](#я-хочу-спроектировать-метрику-заново-что-лучше-изменить-старую-или-создать-новую)
    * ["Можно ли удалить метрику?"](#можно-ли-удалить-метрику)
<!-- TOC -->

## Как создать метрику в интерфейсе StatsHouse

Чтобы создать метрику, дайте ей имя.

В интерфейсе StatsHouse перейдите в главное меню (со значком **⚡**) в левом верхнем углу и выберите **Create metric**:

<img src={CreateMetric} width="300"/>

Не создавайте "одну большую метрику" для всей системы сразу.
Лучше создайте несколько метрик и назовите их единообразно. Чтобы упорядочить названия метрик, относящихся к 
конкретной системе (продукту или сервису), используйте префиксы или другую структуру, например:

<img src={NameMetric} width="600"/>

Какие символы можно использовать в названии метрики:
* латинский алфавит,
* целые числа,
* подчеркивание.

:::note
Не начинайте названия метрик с подчёркивания. Такие названия используются для служебных метрик StatsHouse.
:::

Как только у метрики появится имя, вы можете [отправлять в неё данные](send-data.md).

## Часто задаваемые вопросы о создании метрик

При создании метрик часто возникают такие вопросы.

#### "Можно ли не создавать метрику вручную, а просто отправить в неё данные?"

Да, но... вы не увидите свои данные! Прежде чем отправлять данные в метрику, нужно создать её
вручную в интерфейсе StatsHouse.

#### "Можно ли автоматизировать создание метрик?"

Нет. Автоматизировать создание метрик нельзя. Важно, чтобы у каждой метрики в StatsHouse был свой владелец и чтобы 
он контролировал создание метрик. Не отправляйте в StatsHouse ненужные или испорченные данные.

#### "Сколько метрик можно создать?"

Вы можете создать сколько угодно метрик, если сделаете это вручную в интерфейсе StatsHouse.

#### "А если я отправлю слишком много данных? Могу ли я перегрузить StatsHouse или испортить другие метрики?"

Скорее всего, своими метриками вы не сможете навредить системе StatsHouse или другим пользователям. Благодаря 
[агрегации](../overview/concepts.md#агрегация) и [семплированию](../overview/concepts.md#семплирование) StatsHouse
практически невозможно перегрузить.
StatsHouse предоставляет пользователям [справедливое распределение ресурсов](../overview/concepts.md#справедливое-распределение-ресурсов),
так что метрики не могут отнимать бюджет друг у друга.

:::info
Познакомьтесь с [основными понятиями](../overview/concepts.md) и узнайте, какие механизмы обеспечивают высокую 
доступность и масштабируемость StatsHouse и как они могут повлиять на данные.
:::

Потерять или испортить данные метрик можно в крайне редких случаях, связанных с
[переполнением буфера UDP-сокета](send-data.md#без-использования-клиентских-библиотек).
Вероятнее всего, вам не стоит об этом беспокоиться.

#### "Можно ли переименовать метрику?"

Вы не можете переименовать созданную метрику. Создайте новую метрику с нужным названием. Также можно
[изменить название графика](view-graph.md#2--название-графика), а название метрики останется прежним.
Неиспользуемую метрику можно [отключить](edit-metrics.md#отключение-метрики).

#### "Я хочу спроектировать метрику заново. Что лучше: изменить старую или создать новую?"

Если вы вносите изменения в существующую метрику, например меняете её тип, вам может быть сложно понять смысл данных 
в дельнейшем.

Обратите внимание: при создании нельзя использовать название метрики повторно — даже если старая метрика уже отключена.

#### "Можно ли удалить метрику?"

Нет, но её можно отключить. Данные перестанут записываться в неё, и StatsHouse удалит её из списка метрик.
Узнайте, [как включить и выключить метрику](edit-metrics.md#отключение-метрики).

"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[740],{6761:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>l,frontMatter:()=>c,metadata:()=>h,toc:()=>g});var n=s(5893),r=s(1151);const i=s.p+"assets/images/aes-00e6db5ad31177f283ed6453da6cf88a.png",o=s.p+"assets/images/no-proxy-encryption-d648c3079a462db4124cd9a8c8574833.png",a=s.p+"assets/images/with-proxy-encryption-1a004c1a7d2f1df6228c63e66e0f7362.png",c={sidebar_position:5,title:"Ensure security"},d="Ensure security",h={id:"admin/security",title:"Ensure security",description:"StatsHouse encrypts data between the agent and the aggregator even if they are located in the same",source:"@site/docs/admin/security.md",sourceDirName:"admin",slug:"/admin/security",permalink:"/statshouse/admin/security",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"Ensure security"},sidebar:"tutorialSidebar",previous:{title:"Monitor StatsHouse",permalink:"/statshouse/admin/monitor"},next:{title:"Use host metrics",permalink:"/statshouse/admin/host-metrics"}},p={},g=[{value:"Without the ingress proxy",id:"without-the-ingress-proxy",level:2},{value:"With the ingress proxy",id:"with-the-ingress-proxy",level:2}];function u(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"ensure-security",children:"Ensure security"}),"\n",(0,n.jsx)(t.p,{children:"StatsHouse encrypts data between the agent and the aggregator even if they are located in the same\ndata center. The AES encryption is used by default."}),"\n",(0,n.jsx)("img",{src:i,width:"700"}),"\n",(0,n.jsxs)(t.p,{children:["If your cluster receives data from the agents that live outside the protected perimeter (i.e., outside the data center),\nuse the ingress proxies. The ingress proxy has a separate set of encryption keys for the external connections.\nRead more about the StatsHouse ",(0,n.jsx)(t.a,{href:"/statshouse/overview/components#ingress-proxy",children:"ingress proxy"})," component\nin the conceptual overview."]}),"\n",(0,n.jsx)(t.h2,{id:"without-the-ingress-proxy",children:"Without the ingress proxy"}),"\n",(0,n.jsx)(t.p,{children:"Check the flow for encrypting data between the agent and the aggregator without the ingress proxy."}),"\n",(0,n.jsx)("img",{src:o,width:"300"}),"\n",(0,n.jsxs)(t.p,{children:["The agents send encrypted data to aggregators.\nThey use the key from the ",(0,n.jsx)(t.code,{children:"--aes-pwd-file"})," directory."]}),"\n",(0,n.jsxs)(t.p,{children:["The aggregators decrypt the incoming data.\nThey use the same key from the ",(0,n.jsx)(t.code,{children:"--aes-pwd-file"})," directory."]}),"\n",(0,n.jsx)(t.h2,{id:"with-the-ingress-proxy",children:"With the ingress proxy"}),"\n",(0,n.jsx)(t.p,{children:"Check the flow for encrypting data between the agent and the aggregator with the ingress proxy in the middle."}),"\n",(0,n.jsx)("img",{src:a,width:"600"}),"\n",(0,n.jsxs)(t.p,{children:["The agents send encrypted data to the ingress proxies.\nEach agent gets one of the keys from the ingress proxy's ",(0,n.jsx)(t.code,{children:"-ingress-pwd-dir"})," directory as the ",(0,n.jsx)(t.code,{children:"-aes-pwd-file"})," parameter."]}),"\n",(0,n.jsxs)(t.p,{children:["The ingress proxies decrypt the incoming data using the keys from the ",(0,n.jsx)(t.code,{children:"--ingress-pwd-dir"})," directory."]}),"\n",(0,n.jsxs)(t.p,{children:["The ingress proxies send encrypted data to the aggregators.\nThey use the key from the ",(0,n.jsx)(t.code,{children:"--aes-pwd-file"})," directory to encrypt the outgoing traffic."]}),"\n",(0,n.jsxs)(t.p,{children:["The aggregator starts with the parameter ",(0,n.jsx)(t.code,{children:"--aes-pwd-file"})," to decrypt the incoming traffic."]})]})}function l(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},1151:(e,t,s)=>{s.d(t,{Z:()=>a,a:()=>o});var n=s(7294);const r={},i=n.createContext(r);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);
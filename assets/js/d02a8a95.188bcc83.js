"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[251],{5551:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>D,contentTitle:()=>S,default:()=>P,frontMatter:()=>I,metadata:()=>k,toc:()=>T});var i=s(5893),n=s(1151);const a=s.p+"assets/images/edit-start-deacdb8e57214f4413ce2f126e29d1e3.png",r=s.p+"assets/images/edit-save-fe8474179d1753024150e778aabf35be.png",o=s.p+"assets/images/edit-view-bb7d1639c98eaf57c947e73085cbc9cb.png",d=s.p+"assets/images/description-1f020bc0ebbdf78fb68dceb24e4d6140.png",h=s.p+"assets/images/aggregation-edit-682619d11acf59321e82bed25e283188.png",c=s.p+"assets/images/enable-percentiles-9376a6010b8cae815072e57189073af2.png",l=s.p+"assets/images/resolution-edit-f9a673db42d8b97713756b7086298e3d.png",m=s.p+"assets/images/resolution-view-9b9881288ee445cc80d8575d135b3baa.png",g=s.p+"assets/images/milliseconds-43c0427a2f223d0bd93b0f57d0c45077.png",u=s.p+"assets/images/tags-n-24a1aa45b635fd4ff93f999b8a2cfa58.png",p=s.p+"assets/images/tag-dash-084f37e709423ad26858249a7c716291.png",f=s.p+"assets/images/tag-desc-f097f38fc8652b6848fa0306aecb6df1.png",x=s.p+"assets/images/tag-name-7f23850ab4079c49780aebefbda84c66.png",j=s.p+"assets/images/raw-value-comments-8b56de627c526eb1cae328843897a056.png",y=s.p+"assets/images/raw-format-ef6e552674c087130bb5f69d830b5155.png",v=s.p+"assets/images/string-tag-c79f1f3b7ffddff358c308e721390dc0.png",w=s.p+"assets/images/disable-a8215ac2805660f1d3373a23d419c653.png",b=s.p+"assets/images/draft-tags-a9b63694fb95693e6a64a29e26a78a1d.png",I={sidebar_position:6},S="Edit a metric",k={id:"guides/edit-metrics",title:"Edit a metric",description:"Learn how to edit a metric and what the editing options are:",source:"@site/docs/guides/edit-metrics.md",sourceDirName:"guides",slug:"/guides/edit-metrics",permalink:"/statshouse/guides/edit-metrics",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Create and view dashboards",permalink:"/statshouse/guides/dashboards"},next:{title:"Query with PromQL",permalink:"/statshouse/guides/query-wth-promql"}},D={},T=[{value:"How to edit a metric",id:"how-to-edit-a-metric",level:2},{value:"Description",id:"description",level:2},{value:"Aggregation",id:"aggregation",level:2},{value:"Percentiles",id:"percentiles",level:3},{value:"Resolution",id:"resolution",level:2},{value:"Unit",id:"unit",level:2},{value:"Tags",id:"tags",level:2},{value:"Hide the unnecessary tags",id:"hide-the-unnecessary-tags",level:3},{value:"Describe tags",id:"describe-tags",level:3},{value:"Set up <em>Raw tags</em>",id:"set-up-raw-tags",level:3},{value:"Value comments",id:"value-comments",level:4},{value:"Specifying formats for raw tag values",id:"specifying-formats-for-raw-tag-values",level:4},{value:"Set up <em>String top tag</em>",id:"set-up-string-top-tag",level:3},{value:"Map the draft tag names to the tag IDs",id:"map-the-draft-tag-names-to-the-tag-ids",level:3},{value:"Disabling a metric",id:"disabling-a-metric",level:2},{value:"Admin settings",id:"admin-settings",level:2}];function U(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,n.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"edit-a-metric",children:"Edit a metric"}),"\n",(0,i.jsxs)(t.p,{children:["Learn ",(0,i.jsx)(t.a,{href:"#how-to-edit-a-metric",children:"how to edit a metric"})," and what the editing options are:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#description",children:"Description"})}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"#aggregation",children:"Aggregation"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#percentiles",children:"Percentiles"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#resolution",children:"Resolution"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#unit",children:"Unit"})}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"#tags",children:"Tags"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#hide-the-unnecessary-tags",children:"Hide the unnecessary tags"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#describe-tags",children:"Describe tags"})}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsxs)(t.a,{href:"#set-up-raw-tags",children:["Set up ",(0,i.jsx)(t.em,{children:"Raw tags"})]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#value-comments",children:"Value comments"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#specifying-formats-for-raw-tag-values",children:"Specifying formats for raw tag values"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsxs)(t.a,{href:"#set-up-string-top-tag",children:["Set up ",(0,i.jsx)(t.em,{children:"String top tag"})]})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#map-the-draft-tag-names-to-the-tag-ids",children:"Map the draft tag names to the tag IDs"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#disabling-a-metric",children:"Disabling a metric"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#admin-settings",children:"Admin settings"})}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"how-to-edit-a-metric",children:"How to edit a metric"}),"\n",(0,i.jsx)(t.p,{children:"If you have started sending metric data, you have already set up the essential metric characteristics.\nWith the editing options, try more settings or change the look of your metric in the UI:"}),"\n",(0,i.jsx)("img",{src:a,width:"700"}),"\n",(0,i.jsx)(t.p,{children:"As soon as you have set up the necessary options, scroll down to the bottom of the page to save your settings:"}),"\n",(0,i.jsx)("img",{src:r,width:"800"}),"\n",(0,i.jsx)(t.p,{children:"Then scroll back to the top of the page to view your metric with the changes applied:"}),"\n",(0,i.jsx)("img",{src:o,width:"800"}),"\n",(0,i.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,i.jsx)(t.p,{children:"Add a metric description on one or multiple lines to show in the UI. No formatting is supported."}),"\n",(0,i.jsx)("img",{src:d,width:"800"}),"\n",(0,i.jsxs)(t.p,{children:["You can ",(0,i.jsx)(t.a,{href:"/statshouse/guides/view-graph#2--graph-name",children:"edit the graph name"})," to customize the look of the dashboard or the graph view\nwithout changing the name of the metric itself. You ",(0,i.jsx)(t.a,{href:"/statshouse/guides/create-metric#can-i-rename-a-metric",children:"cannot rename a metric"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"aggregation",children:"Aggregation"}),"\n",(0,i.jsxs)(t.p,{children:["Basically, a ",(0,i.jsx)(t.a,{href:"/statshouse/guides/design-metric#metric-types",children:"metric type"})," affects the range of descriptive statistics\nthat are meaningful for a metric. In the ",(0,i.jsx)(t.a,{href:"/statshouse/guides/view-graph#3--descriptive-statistics",children:(0,i.jsx)(t.em,{children:"Descriptive statistics"})}),"\ndropdown menu, you can see statistics, which may be not relevant for your metric type.\nIf you pick them, you will see 0 values for them on a graph. For example, you cannot view the cumulative graph\nfor ",(0,i.jsx)(t.em,{children:"unique"})," metrics."]}),"\n",(0,i.jsx)(t.p,{children:"To switch off showing irrelevant statistics in the UI, specify the type of your metric:"}),"\n",(0,i.jsx)("img",{src:h,width:"500"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.em,{children:"Mixed"})," type allows you to display all the statistics (even irrelevant ones) in the UI.\nSee more on ",(0,i.jsx)(t.a,{href:"/statshouse/guides/design-metric#combining-metric-types",children:"changing or combining metric types"}),"."]}),"\n",(0,i.jsx)(t.h3,{id:"percentiles",children:"Percentiles"}),"\n",(0,i.jsxs)(t.p,{children:["Percentiles are available for ",(0,i.jsx)(t.em,{children:"value"})," metrics only:"]}),"\n",(0,i.jsx)("img",{src:c,width:"500"}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["You start writing percentiles for a metric only upon switching the ",(0,i.jsx)(t.em,{children:"Enable percentiles"})," toggle on.\nYou will not see percentiles for the previously written data."]})}),"\n",(0,i.jsxs)(t.p,{children:["Note that the amount of data increases for a metric with percentiles, so enabling them may lead to increased\n",(0,i.jsx)(t.a,{href:"/statshouse/overview/concepts#sampling",children:"sampling"}),". If it is important for you to have the lower sampling factor, keep an\neye on your metric ",(0,i.jsx)(t.a,{href:"/statshouse/guides/view-graph#cardinality",children:"cardinality"})," or choose custom ",(0,i.jsx)(t.a,{href:"/statshouse/guides/edit-metrics#resolution",children:"resolution"}),"\nfor writing metric data."]}),"\n",(0,i.jsx)(t.h2,{id:"resolution",children:"Resolution"}),"\n",(0,i.jsxs)(t.p,{children:["The highest available resolution of data to show on a graph depends on the currently available\n",(0,i.jsx)(t.a,{href:"/statshouse/overview/concepts#aggregation",children:"aggregate"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"per-second aggregated data is stored for the first two days,"}),"\n",(0,i.jsx)(t.li,{children:"per-minute aggregated data is stored for a month,"}),"\n",(0,i.jsx)(t.li,{children:"per-hour aggregated data is available forever."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"So, you can get per-second data for the last two days, per-minute data for the last month, and you can get\nper-hour data for any period you want."}),"\n",(0,i.jsxs)(t.p,{children:["If getting the highest available resolution is not crucial for you, but it is important for you\nto reduce ",(0,i.jsx)(t.a,{href:"/statshouse/overview/concepts#sampling",children:"sampling"}),", reduce your metric resolution.\nFor example, choose a custom resolution to make the ",(0,i.jsx)(t.a,{href:"/statshouse/overview/components#agent",children:"agent"})," send data once\nper 15 seconds instead of sending per-second data:"]}),"\n",(0,i.jsx)("img",{src:l,width:"400"}),"\n",(0,i.jsxs)(t.p,{children:['Some resolution levels are marked as "native": 1, 5, 15, 60 seconds. They correspond to levels of details (LOD)\nin the UI, so we recommend using them to avoid jitter on a graph. See more about metric\n',(0,i.jsx)(t.a,{href:"/statshouse/overview/concepts#resolution",children:"resolution"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"You see custom resolution near the metric name in a graph view:"}),"\n",(0,i.jsx)("img",{src:m,width:"600"}),"\n",(0,i.jsx)(t.admonition,{type:"important",children:(0,i.jsxs)(t.p,{children:["Setting up resolution affects processing data\u2014not showing data in the UI.\nFor a metric with custom resolution, it is impossible to display data on a graph with\nthe smaller ",(0,i.jsx)(t.a,{href:"/statshouse/guides/view-graph#6--aggregation-interval",children:"aggregation interval"}),":\nyou cannot show per-second data if the resolution is set to 5 seconds."]})}),"\n",(0,i.jsx)(t.h2,{id:"unit",children:"Unit"}),"\n",(0,i.jsxs)(t.p,{children:["Set up measurement units for the ",(0,i.jsx)(t.em,{children:"value"})," metric data you send to StatsHouse.\nWith this unit information, StatsHouse generates the Y-axis label for a graph."]}),"\n",(0,i.jsxs)(t.p,{children:["For example, if you set up ",(0,i.jsx)(t.em,{children:"milliseconds"})," for your metric, you can see ",(0,i.jsx)(t.em,{children:"seconds"}),", ",(0,i.jsx)(t.em,{children:"minutes"}),", or even ",(0,i.jsx)(t.em,{children:"days"})," as the\nY-axis label on the graph:"]}),"\n",(0,i.jsx)("img",{src:g,width:"900"}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["If you have a ",(0,i.jsx)(t.em,{children:"counter"})," metric or view the ",(0,i.jsx)(t.em,{children:"count"})," and ",(0,i.jsx)(t.em,{children:"count/sec"}),' statistics, you should not set a particular\nunit. A counter means the "number of times," so choose the ',(0,i.jsx)(t.em,{children:"no unit"})," option."]})}),"\n",(0,i.jsx)(t.h2,{id:"tags",children:"Tags"}),"\n",(0,i.jsx)(t.p,{children:"Customize your metric tags: their look in the UI, and their behavior while sending data."}),"\n",(0,i.jsx)(t.h3,{id:"hide-the-unnecessary-tags",children:"Hide the unnecessary tags"}),"\n",(0,i.jsx)(t.p,{children:"Hide the unnecessary tags in the UI if you have less than 16 tags for your metric:"}),"\n",(0,i.jsx)("img",{src:u,width:"250"}),"\n",(0,i.jsxs)(t.p,{children:["To hide only one tag in the middle, enter a hyphen (-) in the ",(0,i.jsx)(t.em,{children:"Tag description"})," field:"]}),"\n",(0,i.jsx)("img",{src:p,width:"500"}),"\n",(0,i.jsx)(t.h3,{id:"describe-tags",children:"Describe tags"}),"\n",(0,i.jsx)(t.p,{children:"While sending data, you refer to a tag by its ID or a name.\nBefore you start referring to a tag by the custom name in your sending requests,\nspecify these names here, in the UI:"}),"\n",(0,i.jsx)("img",{src:x,width:"170"}),"\n",(0,i.jsx)(t.p,{children:"Add tag descriptions to show in the UI:"}),"\n",(0,i.jsx)("img",{src:f,width:"600"}),"\n",(0,i.jsxs)(t.h3,{id:"set-up-raw-tags",children:["Set up ",(0,i.jsx)(t.em,{children:"Raw tags"})]}),"\n",(0,i.jsxs)(t.p,{children:["If you need a tag with many different 32-bit integer values (such as ",(0,i.jsx)(t.code,{children:"user_ID"}),"), use the\n",(0,i.jsxs)(t.a,{href:"/statshouse/guides/design-metric#raw-tags",children:[(0,i.jsx)(t.em,{children:"Raw"})," tag values"]})," to avoid the\n",(0,i.jsx)(t.a,{href:"/statshouse/overview/components#the-budget-for-creating-tag-values",children:"mapping flood"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["To help yourself remember what they mean, specify a\n",(0,i.jsx)(t.a,{href:"#specifying-formats-for-raw-tag-values",children:"format"})," for your data to show in the UI\nand add ",(0,i.jsx)(t.a,{href:"#value-comments",children:"value comments"}),"."]}),"\n",(0,i.jsx)(t.h4,{id:"value-comments",children:"Value comments"}),"\n",(0,i.jsx)(t.p,{children:"Add value comments to remember what your raw tag values mean:"}),"\n",(0,i.jsx)("img",{src:j,width:"1000"}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"Value comments are stored as meta-information, so they do not expend the mapping budget."})}),"\n",(0,i.jsx)(t.h4,{id:"specifying-formats-for-raw-tag-values",children:"Specifying formats for raw tag values"}),"\n",(0,i.jsx)(t.p,{children:"When you send tag values as raw ones, you send 32-bit integer values. For example, you send integers that are\ntimestamps. To make such raw tag values more readable in the UI, choose the format for them:"}),"\n",(0,i.jsx)("img",{src:y,width:"1000"}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["Please note that you send only 32-bit integer values as raw tag values. If you send IP-addresses, they look like\n",(0,i.jsx)(t.code,{children:"1234567890"})," but not ",(0,i.jsx)(t.code,{children:"12.345.67.890"})," as the latter would be a string. When you choose an ",(0,i.jsx)(t.em,{children:"ip"})," option as the format,\nStatsHouse displays your ",(0,i.jsx)(t.code,{children:"1234567890"})," raw tag value as ",(0,i.jsx)(t.code,{children:"12.345.67.890"})," in the UI."]})}),"\n",(0,i.jsxs)(t.h3,{id:"set-up-string-top-tag",children:["Set up ",(0,i.jsx)(t.em,{children:"String top tag"})]}),"\n",(0,i.jsxs)(t.p,{children:["To filter data with the ",(0,i.jsx)(t.a,{href:"/statshouse/guides/design-metric#string-top-tag",children:"String top tag"})," on a graph, add a name or description to it:"]}),"\n",(0,i.jsx)("img",{src:v,width:"600"}),"\n",(0,i.jsx)(t.h3,{id:"map-the-draft-tag-names-to-the-tag-ids",children:"Map the draft tag names to the tag IDs"}),"\n",(0,i.jsx)(t.p,{children:'Draft tags appear when the data you send contains the tag names, but these names were not mapped to tag IDs, so they\nare "unknown" to StatsHouse.'}),"\n",(0,i.jsxs)(t.p,{children:["The feature was implemented to support\n",(0,i.jsx)(t.a,{href:"/statshouse/admin/migrating#how-to-migrate-from-prometheus",children:"migrating from Prometheus"}),". There may be more than 16 tags in\nthe scraped metrics, and StatsHouse cannot map them to the tag IDs randomly."]}),"\n",(0,i.jsxs)(t.p,{children:['StatsHouse extracts the "unknown" tag names from the scraped metric data and shows them as the ',(0,i.jsx)(t.em,{children:"draft tags"}),". Users\ncan map these draft tag names with the tag IDs manually:"]}),"\n",(0,i.jsx)("img",{src:b,width:"700"}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["Draft tags also appear when you refer to the tags in your code by the custom names, but you have not previously\nspecified these names in the UI. See more about ",(0,i.jsx)(t.a,{href:"#describe-tags",children:"describing tags"}),". The draft tag feature may help\nyou to configure metric tags faster."]})}),"\n",(0,i.jsxs)(t.p,{children:["Learn more about ",(0,i.jsx)(t.a,{href:"/statshouse/guides/design-metric#tags",children:"designing tags for your metrics"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"disabling-a-metric",children:"Disabling a metric"}),"\n",(0,i.jsx)(t.p,{children:"You cannot delete a metric, but you can disable it:"}),"\n",(0,i.jsx)("img",{src:w,width:"250"}),"\n",(0,i.jsx)(t.p,{children:"Disabling a metric stops writing data for it and removes it from the metric list."}),"\n",(0,i.jsx)(t.admonition,{type:"important",children:(0,i.jsx)(t.p,{children:"To enable a metric again, you need a direct link to it."})}),"\n",(0,i.jsx)(t.h2,{id:"admin-settings",children:"Admin settings"}),"\n",(0,i.jsx)(t.p,{children:"These settings are for administrators only:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.em,{children:"Weight"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.em,{children:"Mapping Flood Counter"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.em,{children:"Presort key"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.em,{children:"Presort key only"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.em,{children:"Enable max host"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.em,{children:"Enable min host"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.em,{children:"Enable sum square"})}),"\n"]})]})}function P(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(U,{...e})}):U(e)}},1151:(e,t,s)=>{s.d(t,{Z:()=>o,a:()=>r});var i=s(7294);const n={},a=i.createContext(n);function r(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);
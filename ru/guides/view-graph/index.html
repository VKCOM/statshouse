<!doctype html>
<html lang="ru-RU" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/view-graph" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Как просматривать данные | StatsHouse</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/statshouse/ru/guides/view-graph"><meta data-rh="true" property="og:locale" content="ru_RU"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Как просматривать данные | StatsHouse"><meta data-rh="true" name="description" content="В StatsHouse данные можно представить в виде графика или таблицы, а также скачать как файл"><meta data-rh="true" property="og:description" content="В StatsHouse данные можно представить в виде графика или таблицы, а также скачать как файл"><link data-rh="true" rel="icon" href="/statshouse/ru/img/statshouse.ico"><link data-rh="true" rel="canonical" href="https://github.com/statshouse/ru/guides/view-graph"><link data-rh="true" rel="alternate" href="https://github.com/statshouse/guides/view-graph" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://github.com/statshouse/ru/guides/view-graph" hreflang="ru-RU"><link data-rh="true" rel="alternate" href="https://github.com/statshouse/guides/view-graph" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/statshouse/ru/blog/rss.xml" title="StatsHouse RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/statshouse/ru/blog/atom.xml" title="StatsHouse Atom Feed">



<link rel="preconnect" href="https://mc.yandex.ru">
<script>!function(e,t,a,c,n,r,i){e[n]=e[n]||function(){(e[n].a=e[n].a||[]).push(arguments)},e[n].l=1*new Date,r=t.createElement(a),i=t.getElementsByTagName(a)[0],r.async=1,r.src="https://mc.yandex.ru/metrika/tag.js",i.parentNode.insertBefore(r,i)}(window,document,"script",0,"ym"),ym(96098475,"init",{defer:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,ecommerce:!1,trackHash:!1})</script>
<noscript>
                            <div><img src="https://mc.yandex.ru/watch/96098475" style="position:absolute; left:-9999px;" alt=""></div>
                        </noscript><link rel="stylesheet" href="/statshouse/ru/assets/css/styles.8b14ad53.css">
<script src="/statshouse/ru/assets/js/runtime~main.5e1f143d.js" defer="defer"></script>
<script src="/statshouse/ru/assets/js/main.bc0a28d3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Перейти к основному содержимому"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Перейти к основному содержимому</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/statshouse/ru/"><div class="navbar__logo"><img src="/statshouse/ru/img/statshouse.jpeg" alt="StatsHouse Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/statshouse/ru/img/statshouse.jpeg" alt="StatsHouse Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Документация StatsHouse</b></a><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div><a class="navbar__item navbar__link" href="/statshouse/ru/blog">Что нового</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Русский</a><ul class="dropdown__menu"><li><a href="/statshouse/guides/view-graph" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/statshouse/ru/guides/view-graph" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ru-RU">Русский</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/VKCOM/statshouse" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Прокрутка к началу" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/statshouse/ru/">Что такое StatsHouse?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/statshouse/ru/tldr">TLDR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/statshouse/ru/quick-start">Краткое руководство</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/statshouse/ru/guides/access-cluster">Пользователям</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/statshouse/ru/guides/access-cluster">Как получить доступ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/statshouse/ru/guides/design-metric">Как спроектировать метрику</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/statshouse/ru/guides/create-metric">Как создать метрику</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/statshouse/ru/guides/send-data">Как отправлять данные</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/statshouse/ru/guides/view-graph">Как просматривать данные</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/statshouse/ru/guides/dashboards">Как пользоваться дашбордами</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/statshouse/ru/guides/edit-metrics">Как отредактировать метрику</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/statshouse/ru/guides/query-wth-promql">Как работать с PromQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/statshouse/ru/guides/openapi">Как найти спецификацию OpenAPI</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/statshouse/ru/admin/sys-req">Администраторам</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/statshouse/ru/overview/features">Обзор</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/statshouse/ru/support">Поддержка</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Навигационная цепочка текущей страницы"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Главная страница" class="breadcrumbs__link" href="/statshouse/ru/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Пользователям</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Как просматривать данные</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Содержание этой страницы</button></div><div class="theme-doc-markdown markdown"><h1>Как просматривать данные</h1>
<p>В StatsHouse данные можно представить в виде графика или <a href="#10--%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0">таблицы</a>, а также скачать как файл
<a href="#12--csv">CSV</a>.
Для сложных сценариев можно использовать <a href="#18--%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80-promql-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%BE%D0%B2">PromQL-запросы</a>.
StatsHouse не позволяет просматривать данные через сторонние приложения.</p>
<p>Узнайте, как просматривать данные в StatsHouse: основные возможности обозначены на рисунке внизу, а описания можно
найти через панель навигации.</p>
<img src="/statshouse/ru/assets/images/ui-b8d13d1268024f50186e384b0e26c23a.png" width="1000">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1--название-метрики">1 — Название метрики<a href="#1--название-метрики" class="hash-link" aria-label="Прямая ссылка на 1 — Название метрики" title="Прямая ссылка на 1 — Название метрики">​</a></h2>
<p>Созданные метрики можно найти по названию.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Не вносите изменения и не отправляйте данные в чужие метрики — вы можете испортить чьи-то данные.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="метрики-хостов">Метрики хостов<a href="#метрики-хостов" class="hash-link" aria-label="Прямая ссылка на Метрики хостов" title="Прямая ссылка на Метрики хостов">​</a></h3>
<p>Часто используемые метрики хостов, например <em>загрузка процессора</em> или <em>использование диска</em>, встроены в StatsHouse:</p>
<img src="/statshouse/ru/assets/images/host-metrics-35dd3821ca0c09bb42c4ea5c6b313721.png" width="300">
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Названия метрик хостов начинаются с префикса <code>host_</code>.</p></div></div>
<p>Список метрик хостов и их реализацию можно найти на
<a href="https://github.com/VKCOM/statshouse/blob/1c45de2c5ecee27a767a4821ed85315c1a0dff49/internal/format/predefined_hardware.go#L37" target="_blank" rel="noopener noreferrer">GitHub</a>.
Более подробное описание приведено в <a href="/statshouse/ru/admin/host-metrics">руководстве для администраторов</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="служебные-метрики">Служебные метрики<a href="#служебные-метрики" class="hash-link" aria-label="Прямая ссылка на Служебные метрики" title="Прямая ссылка на Служебные метрики">​</a></h3>
<p>Метрики, названия которых начинаются с двух подчёркиваний, — это служебные метрики StatsHouse, например:</p>
<img src="/statshouse/ru/assets/images/service-metrics-de5e5cf74834270c774d61f07358ea3b.png" width="300">
<p>Их нельзя редактировать. Смотрите также раздел <a href="#13--%D0%BC%D0%B5%D1%82%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D0%BA%D0%B8">Метаметрики</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="общие-метрики">Общие метрики<a href="#общие-метрики" class="hash-link" aria-label="Прямая ссылка на Общие метрики" title="Прямая ссылка на Общие метрики">​</a></h3>
<p>На уровне организации можно договориться о наборе метрик, которые будут общими для всех подсистем, сервисов,
микросервисов, прокси и т. д.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="как-найти-создателя-метрики">&quot;Как найти создателя метрики?&quot;<a href="#как-найти-создателя-метрики" class="hash-link" aria-label="Прямая ссылка на &quot;Как найти создателя метрики?&quot;" title="Прямая ссылка на &quot;Как найти создателя метрики?&quot;">​</a></h3>
<p>В StatsHouse нет отдельного способа, который помог бы узнать, кто создал метрику.
Иногда эту информацию можно найти в описании метрики. Если её нет, обратитесь к коллегам лично.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="как-отобразить-несколько-метрик-на-графике">&quot;Как отобразить несколько метрик на графике?&quot;<a href="#как-отобразить-несколько-метрик-на-графике" class="hash-link" aria-label="Прямая ссылка на &quot;Как отобразить несколько метрик на графике?&quot;" title="Прямая ссылка на &quot;Как отобразить несколько метрик на графике?&quot;">​</a></h3>
<p><a href="/statshouse/ru/guides/query-wth-promql">Используйте PromQL-запрос</a>. Чтобы сопоставить метрики, можно <a href="/statshouse/ru/guides/dashboards">создать дашборд</a>.
Чтобы изучить взаимосвязи между метриками или событиями, используйте <a href="#11--%D0%BD%D0%B0%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9">Наложение событий</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2--название-и-описание-графика">2 — Название и описа ние графика<a href="#2--название-и-описание-графика" class="hash-link" aria-label="Прямая ссылка на 2 — Название и описание графика" title="Прямая ссылка на 2 — Название и описание графика">​</a></h2>
<p>Вы можете изменить название графика, не меняя название метрики.</p>
<img src="/statshouse/ru/assets/images/rename-graph-dc2552a46b42859ae4a82d334a6248d2.png" width="800">
<p>Изменённое название графика сохраняется только в URL.</p>
<p>Чтобы добавить или изменить описание графика, нажмите на &quot;карандашик&quot; рядом с его названием.</p>
<p>В описаниях можно использовать <a href="https://commonmark.org/help/" target="_blank" rel="noopener noreferrer">стандартную разметку Markdown</a>.</p>
<img src="/statshouse/ru/assets/images/markdown_edit-8905f6fb47107a0e8304f920e73db1c9.png" width="600">
<p>Обратите внимание: форматирование отобразится только при наведении курсора на описание графика (в &quot;тултипе&quot; с
описанием).</p>
<img src="/statshouse/ru/assets/images/markdown_metric-f7fc4027ac7e01c5c8f54cc95b189657.png" width="600">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3--описательные-статистики">3 — Описательные статистики<a href="#3--описательные-статистики" class="hash-link" aria-label="Прямая ссылка на 3 — Описательные статистики" title="Прямая ссылка на 3 — Описательные статистики">​</a></h2>
<p>Это статистические функции, которые количественно описывают или обобщают данные:</p>
<ul>
<li><em>count</em> и <em>count/sec</em>,</li>
<li><em>sum</em> и <em>sum/sec</em>,</li>
<li><em>average</em>,</li>
<li><em>stddev</em> (standard deviation),</li>
<li><em>minimum</em> и <em>maximum</em>,</li>
<li><em>unique</em> и <em>unique/sec</em></li>
<li><a href="#%D0%BA%D1%83%D0%BC%D1%83%D0%BB%D1%8F%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B5-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8">кумулятивные функции</a>,</li>
<li><a href="#%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%BD%D1%8B%D0%B5">производные</a>,</li>
<li><a href="#%D0%BF%D0%B5%D1%80%D1%86%D0%B5%D0%BD%D1%82%D0%B8%D0%BB%D0%B8">перцентили</a>.</li>
</ul>
<p>В меню могут отображаться статистики, не соответствующие типу вашей метрики. Если выбрать нерелевантную
статистику, значения на графике будут равны нулю. Чтобы в меню не отображались такие статистики,
<a href="/statshouse/ru/guides/edit-metrics#%D1%82%D0%B8%D0%BF-%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D0%BA%D0%B8-aggregation">укажите тип метрики в разделе редактирования метрики</a>.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Если вы выбрали <em>count</em> или <em>sum</em> в качестве статистики, а для интервала агрегации установлено значение <em>Auto</em>,
график может быть сложно интерпретировать.</p><p>Лучше выбрать <em>count/sec</em> и <em>sum/sec</em>. Вы получите нормализованные данные, которые не зависят от интервала агрегации.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="почему-для-счётчика-отображается-нецелое-число">&quot;Почему для счётчика отображается нецелое число??&quot;<a href="#почему-для-счётчика-отображается-нецелое-число" class="hash-link" aria-label="Прямая ссылка на &quot;Почему для счётчика отображается нецелое число??&quot;" title="Прямая ссылка на &quot;Почему для счётчика отображается нецелое число??&quot;">​</a></h4>
<p>Системе иногда приходится выбирать нецелые коэффициенты <a href="#sampling">семплирования</a>, чтобы сохранить значения агрегатов и
статистик. Из-за этого счётчики могут принимать нецелые значения, хотя каждый счётчик по сути является целым числом.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="кумулятивные-функции">Кумулятивные функции<a href="#кумулятивные-функции" class="hash-link" aria-label="Прямая ссылка на Кумулятивные функции" title="Прямая ссылка на Кумулятивные функции">​</a></h4>
<p>Накопленные значения нельзя п осмотреть для типа <em>unique</em>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="производные">Производные<a href="#производные" class="hash-link" aria-label="Прямая ссылка на Производные" title="Прямая ссылка на Производные">​</a></h4>
<p>Производная показывает скорость изменения исходной функции, то есть разность между двумя ближайшими
значениями функции.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="перцентили">Перцентили<a href="#перцентили" class="hash-link" aria-label="Прямая ссылка на Перцентили" title="Прямая ссылка на Перцентили">​</a></h4>
<p>Перцентили доступны только для <em>value</em>-метрик.
Включить запись перцентилей можно в <a href="/statshouse/ru/guides/edit-metrics#%D0%BF%D0%B5%D1%80%D1%86%D0%B5%D0%BD%D1%82%D0%B8%D0%BB%D0%B8-percentiles">разделе редактирования метрики</a>.</p>
<p>Обратите внимание, что объём данных для метрики с перцентилями увеличивается, — это может
привести к усилению <a href="/statshouse/ru/overview/concepts#%D1%81%D0%B5%D0%BC%D0%BF%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">семплирования</a>. Чтобы минимизировать коэффициент
семплирования, следите за <a href="#cardinality">кардинальностью</a> метрики или уменьшите её
<a href="/statshouse/ru/guides/edit-metrics#%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-resolution">разрешение</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4--период-времени">4 — Период времени<a href="#4--период-времени" class="hash-link" aria-label="Прямая ссылка на 4 — Период времени" title="Прямая ссылка на 4 — Период времени">​</a></h2>
<p>Просматривайте данные за конкретный период времени: последние пять минут, последний час, последнюю неделю.
Даже за последние два года.</p>
<p>Можно выбрать конкретную дату и время. А ещё настройки можно комбинировать: например,
так отобразятся данные за последний час для предыдущего дня:</p>
<img src="/statshouse/ru/assets/images/time-period-4749da15dd0db30dbdff972c8143d353.png" width="500">
<p>Данные за определённый период времени можно сравнить с данными за аналогичный период в прошлом: на день, неделю или год раньше.</p>
<img src="/statshouse/ru/assets/images/time-ago-543d7705a019265c866811b867e48375.png" width="300">
<p>Настраивая период времени, обращайте внимание на то, какой <a href="#6--%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB-%D0%B0%D0%B3%D1%80%D0%B5%D0%B3%D0%B0%D1%86%D0%B8%D0%B8">интервал агрегации</a>у вас выбран.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Убедитесь, что период времени больше, чем интервал агрегации: например, период времени равен семи дням,
а интервал агрегации — 24 часам.</p></div></div>
<p>Чтобы просматривать данные в режиме реального времени, используйте <a href="#5--live-mode">Live mode</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5--live-mode">5 — Live mode<a href="#5--live-mode" class="hash-link" aria-label="Прямая ссылка на 5 — Live mode" title="Прямая ссылка на 5 — Live mode">​</a></h2>
<p>Используйте <em>Live mode</em>, чтобы просматривать данные в режиме реального времени.</p>
<p>По умолчанию параметр <em>Live mode</em> не содержится в URL графика.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Чтобы отправить ссылку на график с включенным параметром <em>Live mode</em>, добавьте строку <code>live=1</code> в URL графика.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6--интервал-агрегации">6 — Интервал агрегации<a href="#6--интервал-агрегации" class="hash-link" aria-label="Прямая ссылка на 6 — Интервал агрегации" title="Прямая ссылка на 6 — Интервал агрегации">​</a></h2>
<p>Интервал агрегации — это что-то вроде степени детализации для вашей метрики.
Чем больше интервал агрегации, тем более сглаженным выглядит график:</p>
<img src="/statshouse/ru/assets/images/aggregation-interval-2d2b0c8659d5c6ea2abbb93a7b7e508a.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="auto-и-auto-low"><em>Auto</em> и <em>Auto (low)</em><a href="#auto-и-auto-low" class="hash-link" aria-label="Прямая ссылка на auto-и-auto-low" title="Прямая ссылка на auto-и-auto-low">​</a></h3>
<p>Если выбрать значение <em>Auto</em>, для отображения данных на графике будет использоваться минимальный интервал
агрегации из доступных. Он изменчив, поскольку зависит от того, какие данные доступны в данный момент:</p>
<ul>
<li>данные, агрегированные по секундам, хранятся в течение первых двух дней,</li>
<li>данные, агрегированные по минутам, хранятся в течение месяца,</li>
<li>данные, агрегированные по часам, хранятся как угодно долго.</li>
</ul>
<p>Доступный интервал агрегации также связан с <a href="/statshouse/ru/overview/concepts#%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5">разрешением</a> метрики.</p>
<p>Интервал агрегации <em>Auto (low)</em> уменьшает отображаемое разрешение на постоянную величину. Он делает график более
гладким даже при просмотре данных с минимальным интервалом агрегации:</p>
<img src="/statshouse/ru/assets/images/auto-e660bcc52746a427f2464c3346118380.png" width="1000">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6a--дельта">6a — &quot;Дельта&quot;<a href="#6a--дельта" class="hash-link" aria-label="Прямая ссылка на 6a — &quot;Дельта&quot;" title="Прямая ссылка на 6a — &quot;Дельта&quot;">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Описываемая ниже функциональность будет перерабатываться.</p></div></div>
<p>Значение Δ (&quot;дельта&quot;) показывает, какому интервалу агрегации (разрешению) соответствует интервал между соседними
точками на графике.</p>
<ol>
<li>При выборе <strong>конкретного интервала агрегации</strong> (не <em>Auto</em> или <em>Auto (low)</em>, а, например, <em>1 second</em>, <em>5 minutes</em>, <em>1
hour</em> и т.п.) &quot;дельта&quot; показывает, какая агрегация отобразится на графике в итоге.</li>
</ol>
<p>От чего она зависит?</p>
<ul>
<li>От того, с каким <strong><a href="#6b--%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%BE%D0%B5-%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5">исходным разрешением</a></strong> пишется метрика.
Стандартное — раз в секунду, но вы можете отправлять данные, например, раз в пять секунд.</li>
<li>От <strong><a href="/statshouse/ru/overview/concepts#%D0%BC%D0%B8%D0%BD%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB-%D0%B0%D0%B3%D1%80%D0%B5%D0%B3%D0%B0%D1%86%D0%B8%D0%B8">доступного интервала агрегации</a></strong>.
Секундные данные доступны в течение двух дней, потом превращаются в минутные и часовые.</li>
<li>От <strong><a href="#6--%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB-%D0%B0%D0%B3%D1%80%D0%B5%D0%B3%D0%B0%D1%86%D0%B8%D0%B8">выбранного интервала агрегации</a></strong>.
Например, вам доступны секундные агрегаты, но вы выбираете агрегацию в один час.</li>
<li>От <strong><a href="#4--%D0%BF%D0%B5%D1%80%D0%B8%D0%BE%D0%B4-%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">выбранного периода времени</a></strong>.
Вы можете просматривать данные за час (нужно отобразить меньше точек) или за неделю (нужно больше точек).</li>
</ul>
<ol start="2">
<li>При выборе <strong>интервала агрегации <a href="#auto-%D0%B8-auto-low"><em>Auto</em> или <em>Auto (low)</em></a></strong> &quot;дельта&quot; показывает минимальный доступный интервал
агрегации <strong>с
учётом разрешения дисплея</strong>. Разрешение дисплея влияет на размер графика в пикселях. Бывает, что размер графика не
позволяет отобразить столько точек, сколько требуется. В итоге данные отображаются с более низким разрешением.</li>
</ol>
<p>Если вы выбираете интервал агрегации <em>Auto</em> или <em>Auto (low)</em>, рекомендуем использовать статистики <em>count/sec</em> и
<em>sum/sec</em>. Если вы всё же используете <em>count</em> и <em>sum</em>, обращайте внимание на &quot;дельту&quot;. В этой ситуации статистика
показывает количество событий за промежуток времени, указанный в значении &quot;дельты&quot;, и может варьироваться вместе
с ней.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="как-это-работает-на-практике">Как это работает на практике?<a href="#как-это-работает-на-практике" class="hash-link" aria-label="Прямая ссылка на Как это работает на практике?" title="Прямая ссылка на Как это работает на практике?">​</a></h4><p>Допустим, у StatsHouse есть подробные данные для метрики:</p><ul>
<li>она изначально пишется с высоким, хотя и не максимальным, разрешением (5 секунд);</li>
<li>данные ещё очень свежие (не превратились в минутные или часовые агрегаты);</li>
<li>вы выбрали в интерфейсе небольшой интервал агрегации (тоже 5 секунд).</li>
</ul><p>Но:</p><ul>
<li>вы запросили данные за большой период времени (за неделю).</li>
</ul><p>StatsHouse отобразит данные с разрешением <em>НЕ в 5 секунд</em> (как вы хотели), а <em>в
300 секунд</em>: данные с таким интервалом агрегации (Δ300s) уместились на график.</p><img src="/statshouse/ru/assets/images/delta-res-aggr-66e329830e762beae5524783b310855b.png" width="1000"></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6b--пользовательское-разрешение">6b — Пользовательское разрешение<a href="#6b--пользовательское-разрешение" class="hash-link" aria-label="Прямая ссылка на 6b — Пользовательское разрешение" title="Прямая ссылка на 6b — Пользовательское разрешение">​</a></h3>
<p>Если владелец <a href="/statshouse/ru/guides/edit-metrics#%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-resolution">настроил пользовательское разрешение</a> для метрики,
оно будет о тображаться над графиком в виде жёлтого значка.</p>
<img src="/statshouse/ru/assets/images/res-yellow-8f15129ad2557b2cc1ae9f0eb68c3949.png" width="800">
<p>Если значение пользовательского разрешения больше, чем выбранный интервал агрегации, значок станет красным.</p>
<img src="/statshouse/ru/assets/images/res-red-77e0025fa7aa8fba6dfdfe7ae9841b98.png" width="1000">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7--теги">7 — Теги<a href="#7--теги" class="hash-link" aria-label="Прямая ссылка на 7 — Теги" title="Прямая ссылка на 7 — Теги">​</a></h2>
<p>С помощью тегов можно фильтровать и группировать данные.</p>
<p>Чтобы отобразить на графике нужные значения тега, выберите их в выпадающем меню.</p>
<img src="/statshouse/ru/assets/images/filter-by-tag-c0ed0cbb99306c60ff6799fb8e6ff312.png" width="400">
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Если у вашей метрики меньше 16 тегов, ненужные теги можно <a href="/statshouse/ru/guides/edit-metrics#%D1%82%D0%B5%D0%B3%D0%B8">скрыть</a>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="группировка-по-тегам">Группировка по тегам<a href="#группировка-по-тегам" class="hash-link" aria-label="Прямая ссылка на Группировка по тегам" title="Прямая ссылка на Группировка по тегам">​</a></h3>
<p>Данные можно сгруппировать по одному или нескольким тегам.</p>
<p>Если у тегов много значений или они образуют много комбинаций, используйте параметр <a href="#8--top-n">Top N</a>:
укажите, сколько комбинаций с максимальными значениями нужно показать на графике.</p>
<img src="/statshouse/ru/assets/images/groupby-choose-378ca2f0170d437320de78f3a95516d6.png" width="400">
<p>Например, вот как выглядят данные, сгруппированные по тегу <code>protocol</code>, если для параметра <em>Top N</em>
выбрано значение <em>Top 3</em>.</p>
<img src="/statshouse/ru/assets/images/groupby-graph-1a2def6556635b02a20d4e27c4c9b885.png" width="600">
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>По умолчанию данные отображаются на графике без группировки. Задать группировку по умолчанию для метрики нельзя.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="сортировка-по-алфавиту">Сортировка по алфавиту<a href="#сортировка-по-алфавиту" class="hash-link" aria-label="Прямая ссылка на Сортировка по алфавиту" title="Прямая ссылка на Сортировка по алфавиту">​</a></h3>
<p>Значения тегов в выпадающем меню можно отсортировать в алфавитном порядке — так можно быстрее найти нужное значение:</p>
<img src="/statshouse/ru/assets/images/sort-5b5de5c8a3d5f971911a1d98f85a93f7.png" width="400">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="отмена-следующего-выбора">Отмена следующего выбора<a href="#отмена-следующего-выбора" class="hash-link" aria-label="Прямая ссылка на Отмена следующего выбора" title="Прямая ссылка на Отмена следующего выбора">​</a></h3>
<p>Выберите значение тега, чтобы <em>исключить</em> данные из графика:</p>
<img src="/statshouse/ru/assets/images/negate-7f1a8e94592a76aa2693d17cf12b16be.png" width="400">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8--top-n">8 — Top N<a href="#8--top-n" class="hash-link" aria-label="Прямая ссылка на 8 — Top N" title="Прямая ссылка на 8 — Top N">​</a></h2>
<p>Когда вы группируете данные по одному или нескольким тегам, например, по <em>environment</em> и <em>platform</em>,
значения тегов могут образовывать много комбинаций:</p>
<table><thead><tr><th style="text-align:center">Environment × Platform</th><th style="text-align:center"><code>web</code></th><th style="text-align:center"><code>iphone</code></th><th style="text-align:center"><code>android</code></th></tr></thead><tbody><tr><td style="text-align:center"><code>production</code></td><td style="text-align:center">✔️</td><td style="text-align:center">✔️</td><td style="text-align:center">✔️</td></tr><tr><td style="text-align:center"><code>staging</code></td><td style="text-align:center">✔️</td><td style="text-align:center">✔️</td><td style="text-align:center">✔️</td></tr><tr><td style="text-align:center"><code>testing</code></td><td style="text-align:center">✔️</td><td style="text-align:center">✔️</td><td style="text-align:center">✔️</td></tr></tbody></table>
<p>Если комбинаций слишком много, используйте параметр <em>Top N</em>: укажите, сколько комбинаций с максимальными значениями
нужно показать на графике.</p>
<p>Если выбрать значение <em>Top 3</em> для этого параметра в нашем примере, получится вот что:</p>
<img src="/statshouse/ru/assets/images/top-n-eef528180e87ef39e1b8d1f87444233e.png" width="900">
<p>Чтобы выбрать комбинации с минимальными значениями, выберите один из вариантов <em>Bottom N</em> в том же меню:</p>
<img src="/statshouse/ru/assets/images/bottom-n-eec98c0a2f49f6c921221b0c3f503fef.png" width="150">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9--max-host">9 — Max host<a href="#9--max-host" class="hash-link" aria-label="Прямая ссылка на 9 — Max host" title="Прямая ссылка на 9 — Max host">​</a></h2>
<p>Чтобы найти хост, который отправля ет максимальное значение для конкретной метрики, используйте параметр
<a href="/statshouse/ru/guides/design-metric#%D0%B8%D0%BC%D1%8F-%D1%85%D0%BE%D1%81%D1%82%D0%B0-%D0%BA%D0%B0%D0%BA-%D1%82%D0%B5%D0%B3">Max host</a>.</p>
<img src="data:image/png;base64,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" width="100">
<p>Просмотрите список всех хостов, отсортированных по максимальному значению, или скопируйте список в буфер обмена:</p>
<img src="/statshouse/ru/assets/images/max-host-res-108734a9f4904dc4189b909a51c3da5f.png" width="600">
<p>Понятие максимального значения имеет смысл только для выбранного периода времени.</p>
<p>Если включить <em>Max host</em> и просматривать график целиком, отобразится хост, ответственный за отправку
значения, которое является максимальным за весь <a href="#4--%D0%BF%D0%B5%D1%80%D0%B8%D0%BE%D0%B4-%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8">период времени</a> — <em>Last 24 hours</em> в примере ниже:</p>
<img src="/statshouse/ru/assets/images/max-host-1-57bdc3729bcfe36a6a713572daa73385.png" width="900">
<p>Если навести курсор на график, результирующее значение <em>Max host</em> будет меняться. Будет отображаться
хост, который отправил значение, максимальное для доступного <a href="#6--%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB-%D0%B0%D0%B3%D1%80%D0%B5%D0%B3%D0%B0%D1%86%D0%B8%D0%B8">интервала агрегации</a>.
В приведённом ниже примере будет показано максимальное значение для минуты, на которую вы указываете:</p>
<img src="/statshouse/ru/assets/images/max-host-2-5a596923a5ae4fa3674b9fdfc5851fd1.png" width="900">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10--таблица">10 — Таблица<a href="#10--таблица" class="hash-link" aria-label="Прямая ссылка на 10 — Таблица" title="Прямая ссылка на 10 — Таблица">​</a></h2>
<p>События метрики можно отображать в виде таблицы:</p>
<img src="/statshouse/ru/assets/images/table-view-8422f551c68e98fcb3c25fd96384bfc6.png" width="900">
<p>Столбцы с тегами можно показать или скрыть (значок &quot;глаз&quot;) или сгруппировать по ним (&quot;галочка&quot;):</p>
<img src="/statshouse/ru/assets/images/table-choose-fe5d73e494acd18ea8154d7eaa3d2a63.png" width="500">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11--наложение-событий">11 — Наложение событий<a href="#11--наложение-событий" class="hash-link" aria-label="Прямая ссылка на 11 — Наложение событий" title="Прямая ссылка на 11 — Наложение событий">​</a></h2>
<p>Чтобы найти корреляции в данных, можно наложить события одной метрики на данные другой.</p>
<ol>
<li>Выберите метрику, на которую нужно наложить события. Откройте новую <a href="#19--%D0%B2%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B8-%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D0%BA">вкладку метрики</a>:</li>
</ol>
<img src="/statshouse/ru/assets/images/overlay1-f4d282b9d2395429f061e70b83b81bb2.png" width="900">
<ol start="2">
<li>На новой вкладке выберите вторую метрику — ту, события которой вас интересуют. Отобразите эту метрику в виде
<a href="#10--%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0">таблицы</a>:</li>
</ol>
<img src="/statshouse/ru/assets/images/overlay2-e671ced17d44358f1685561a53e60f8f.png" width="900">
<ol start="3">
<li>Вернитесь к первой метрике. В выпадающем меню <em>Event overlay</em> выберите открытую ранее вторую метрику.
Флажки событий отобразятся на графике:</li>
</ol>
<img src="/statshouse/ru/assets/images/overlay3-7b8dd940a3b3c2a3469d389cb32b05b4.png" width="900">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12--csv">12 — CSV<a href="#12--csv" class="hash-link" aria-label="Прямая ссылка на 12 — CSV" title="Прямая ссылка на 12 — CSV">​</a></h2>
<p>Данные метрики за выбранный период времени можно экспортировать в виде файла CSV:</p>
<img src="/statshouse/ru/assets/images/csv-f0c085ec6bb2b15ff176f9cad64dcdf8.png" width="800">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="13--метаметрики">13 — Метаметрики<a href="#13--метаметрики" class="hash-link" aria-label="Прямая ссылка на 13 — Метаметрики" title="Прямая ссылка на 13 — Метаметрики">​</a></h2>
<p>Метрики с двумя подчёркиваниями в начале — это метаметрики. Самые важные из них отображаются в интерфейсе:</p>
<ul>
<li><a href="#receive-status">Receive status</a></li>
<li><a href="#sampling">Sampling</a></li>
<li><a href="#cardinality">Cardinality</a></li>
<li><a href="#mapping-status">Mapping status</a></li>
</ul>
<p>Некоторые из этих метрик вообще не семплируются. Метрики <em>Receive status</em> и <em>Sampling</em>
отправляются в специальной компактной форме для экономии трафика.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="receive-status">Receive status<a href="#receive-status" class="hash-link" aria-label="Прямая ссылка на Receive status" title="Прямая ссылка на Receive status">​</a></h3>
<p>Эта метаметрика перенаправляет вас на метрику <code>__src_ingestion_status</code>.
Она показывает, есть ли ошибки при получении метрик: правильно ли отформатированы данные,
не имеет ли счётчик отрицательного значения, не отправлено ли значение <code>NaN</code>.</p>
<p>Красный значок метаматрики сообщает о наличии ошибок:</p>
<img src="/statshouse/ru/assets/images/receive-error-alert-0493305e99aa1f0b197d7f2237c6de65.png" width="800">
<p>Вот примеры ошибок:</p>
<img src="/statshouse/ru/assets/images/receive-status-3bd6c69f062e8e1eefa1bac2b88f94f0.png" width="300">
<p>К примеру, теги <code>err_map_per_metric_queue_overload</code>, <code>err_map_tag_value</code> или <code>err_map_tag_value_cached</code>
указывают на замедление или ошибки в работе <a href="/statshouse/ru/overview/components#%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81-%D0%BC%D0%B5%D1%82%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">маппинга</a>.</p>
<p>Эта метрика использует бюджет той метрики, к которой относится, поэтому большое количество ошибок не может повлиять на
другие метрики.</p>
<p>Статусы <code>err_*_utf8</code> хранят исходные значения строк в формате <code>hex</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sampling">Sampling<a href="#sampling" class="hash-link" aria-label="Прямая ссылка на Sampling" title="Прямая ссылка на Sampling">​</a></h3>
<p>В StatsHouse есть два узких места: отправка данных от агентов к агрегаторам и вставка данных в базу ClickHouse.
Агент также называют <em>source (источник)</em>, потому что это та машина, с которой поступают данные.</p>
<p><a href="/statshouse/ru/overview/concepts#%D1%81%D0%B5%D0%BC%D0%BF%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Семплирование</a> означает, что StatsHouse выбрасывает часть данных,
чтобы уменьшить их общий объём. Чтобы сохранить значения агрегатов и статистик, StatsHouse домножает оставшиеся
данные на коэффициент семплирования.</p>
<p>Метаметрика <em>Sampling source/aggregator</em> даёт информацию о коэффициентах семплирования на уровне агента и агрегатора:</p>
<ul>
<li><code>__src_sampling_factor</code> — для агента,</li>
<li><code>__agg_sampling_factor</code> — для агрегатора.</li>
</ul>
<p>Из-за нецелых коэффициентов семплирования могут появляться
<a href="#%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83-%D0%B4%D0%BB%D1%8F-%D1%81%D1%87%D1%91%D1%82%D1%87%D0%B8%D0%BA%D0%B0-%D0%BE%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B0%D0%B5%D1%82%D1%81%D1%8F-%D0%BD%D0%B5%D1%86%D0%B5%D0%BB%D0%BE%D0%B5-%D1%87%D0%B8%D1%81%D0%BB%D0%BE">нецелые значения счётчиков</a>.</p>
<p>Если коэффициент семплирования больше 1, появляется жёлтый значок.</p>
<img src="/statshouse/ru/assets/images/sampling-yellow-alert-c0d8300d9c500fb2c042ed79bb716265.png" width="800">
<p>Если коэффициент семплирования больше 5, появляется красный значок.</p>
<img src="/statshouse/ru/assets/images/sampling-src-aggr-c2f0d1130cf784511ecf6750a7159777.png" width="810">
<p>Статистика <em>count</em> для этой метрики показывает количество агентов, на которых такой коэффициент был устано влен в
конкретную секунду.</p>
<p>Узнайте больше об <a href="/statshouse/ru/overview/components#%D0%B0%D0%B3%D0%B5%D0%BD%D1%82">агентах</a> и
<a href="/statshouse/ru/overview/components#%D0%B0%D0%B3%D1%80%D0%B5%D0%B3%D0%B0%D1%82%D0%BE%D1%80">агрегаторах</a> StatsHouse, а также о том, что такое
<a href="/statshouse/ru/overview/concepts#%D1%81%D0%B5%D0%BC%D0%BF%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">семплирование</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cardinality">Cardinality<a href="#cardinality" class="hash-link" aria-label="Прямая ссылка на Cardinality" title="Прямая ссылка на Cardinality">​</a></h3>
<p><a href="/statshouse/ru/overview/concepts#%D0%BA%D0%B0%D1%80%D0%B4%D0%B8%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C">Кардинальность</a> — это количество уникальных комбинаций значений тегов, которые вы отправляете для метрики.</p>
<p>Метаметрика <em>Cardinality</em> перенаправляет вас на метрику <code>__agg_hour_cardinality</code>:</p>
<img src="/statshouse/ru/assets/images/hour-cardinality-90d93b4035f1ad29ada03d730fc227f4.png" width="600">
<p>Эта метрика отражает общую часовую кардинальность для конкретной метрики.
Под общей часовой кардинальностью понимается линейная интерполяция между значениями кардинальности для соседних часов.</p>
<p>Оценка кардинальности основана на данных от всех агрегаторов и их шардов.
Статистика <em>avg</em> для этой метрики показывает полную кардинальность — данные можно сгруппировать по агрегаторам.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mapping-status">Mapping status<a href="#mapping-status" class="hash-link" aria-label="Прямая ссылка на Mapping status" title="Прямая ссылка на Mapping status">​</a></h3>
<p>Если вы создаёте теги с большим числом значений, которые ещё не были добавлены в маппинг, возникают ошибки
переполнения <a href="/statshouse/ru/overview/components#%D0%B1%D1%8E%D0%B4%D0%B6%D0%B5%D1%82-%D0%BD%D0%B0-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B9-%D1%82%D0%B5%D0%B3%D0%BE%D0%B2">маппинга</a>:</p>
<img src="/statshouse/ru/assets/images/mapping-flood-0b830e9a18e5a5729667caa0c44835b2.png" width="800">
<p>Ошибки переполнения маппинга указывают на то, что количество новых значений тегов превышает
<a href="/statshouse/ru/overview/components#%D0%B1%D1%8E%D0%B4%D0%B6%D0%B5%D1%82-%D0%BD%D0%B0-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B9-%D1%82%D0%B5%D0%B3%D0%BE%D0%B2">соответствующий дневной бюджет</a>.
Узнайте больше о <a href="/statshouse/ru/overview/components#%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81-%D0%BC%D0%B5%D1%82%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">маппинге</a>
и о том, <a href="/statshouse/ru/guides/design-metric#%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE-%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B9-%D1%82%D0%B5%D0%B3%D0%BE%D0%B2-%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C">сколько значений тегов можно использовать</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="14--фиксированная-ось-y">14 — Фиксированная ось Y<a href="#14--фикси рованная-ось-y" class="hash-link" aria-label="Прямая ссылка на 14 — Фиксированная ось Y" title="Прямая ссылка на 14 — Фиксированная ось Y">​</a></h2>
<p>По умолчанию ось Y масштабируется автоматически — сама подстраивается под амплитуду данных.
Возможно, вам понадобится зафиксировать её масштаб.</p>
<p>Представьте, например: данные варьируются в диапазоне от 1 до 100. Иногда появляются пики. StatsHouse обычно
подстраивает масштаб оси Y под размер пика. Это бывает не очень удобно, когда вас интересуют не пики, а остальные данные.</p>
<p>Фиксируя ось Y, вы отключаете автомасштабирование и можете просматривать данные в заданном диапазоне значений
независимо от пиков.</p>
<img src="/statshouse/ru/assets/images/lock-y-577e52b1e82c25f08eb8d23168659d87.png" width="1000">
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Если вам нужна логарифмическая шкала, перейдите в <a href="#18--%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80-promql-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%BE%D0%B2">редактор PromQL-запросов</a>.
Используйте стандартные функции PromQL:</p><ul>
<li><a href="https://prometheus.io/docs/prometheus/1.8/querying/functions/#ln" target="_blank" rel="noopener noreferrer"><code>ln()</code></a></li>
<li><a href="https://prometheus.io/docs/prometheus/1.8/querying/functions/#log2" target="_blank" rel="noopener noreferrer"><code>log2()</code></a></li>
<li><a href="https://prometheus.io/docs/prometheus/1.8/querying/functions/#log10" target="_blank" rel="noopener noreferrer"><code>log10()</code></a></li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="15--копирование-ссылки-в-буфер-обмена">15 — Копирование ссылки в буфер обмена<a href="#15--копирование-ссылки-в-буфер-обмена" class="hash-link" aria-label="Прямая ссылка на 15 — Копирование ссылки в буфер обмена" title="Прямая ссылка на 15 — Копирование ссылки в буфер обмена">​</a></h2>
<p>Если вы настроили параметры графика (например, сгруппировали или отфильтровали данные по тегам),
вы можете поделиться ссылкой — параметры сохранятся в URL.</p>
<p>Обратите внимание: единственный параметр, который не включается в ссылку, — это <em>Live mode</em>.
Узнайте, <a href="#5--live-mode">как отправить ссылку на график с включенным параметром <em>Live mode</em></a>.</p>
<p>Если у вас открыто несколько <a href="#19--%D0%B2%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B8-%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D0%BA">вкладок с метриками</a>,
скопируется только ссылка на текущую вкладку.</p>
<p>Также посмотрите, как <a href="#20--%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA-%D0%B2-%D0%BD%D0%BE%D0%B2%D0%BE%D0%B9-%D0%B2%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B5-%D0%B1%D1%80%D0%B0%D1%83%D0%B7%D0%B5%D1%80%D0%B0">открыть ссылку на график в новой вкладке браузера</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="16--масштабирование">16 — Масштабирование<a href="#16--масштабирование" class="hash-link" aria-label="Прямая ссылка на 16 — Масштабирование" title="Прямая ссылка на 16 — Масштабирование">​</a></h2>
<p>Перемещайтесь по шкале времени, увеличивайте или уменьшайте масштаб по осям X и Y.</p>
<p>Чтобы вернуться к исходному виду, сбросьте масштабирование (<em>Reset zoom</em>):</p>
<img src="/statshouse/ru/assets/images/zoom-3bd0b89af24bc1bad77084e55e01a14b.png" width="300">
<p>Отключите автомасштабирование оси Y, <a href="#14--%D1%84%D0%B8%D0%BA%D1%81%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F-%D0%BE%D1%81%D1%8C-y">зафиксировав её</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="17--переключение-базы-данных">17 — Переключение базы данных<a href="#17--переключение-базы-данных" class="hash-link" aria-label="Прямая ссылка на 17 — Переключение базы данных" title="Прямая ссылка на 17 — Переключение базы данных">​</a></h2>
<p>Когда-то в StatsHouse использовалась более медленная база данных. В большинстве случаев не нужно переключаться на
неё. Вы не увидите данных, но появится предупреждение:</p>
<img src="/statshouse/ru/assets/images/switch-db-b64cd280fb15bef6506275eb0fdc9295.png" width="800">
<p>Эта функциональность будет отключена позже.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="18--редактор-promql-запросов">18 — Редактор PromQL-запросов<a href="#18--редактор-promql-запросов" class="hash-link" aria-label="Прямая ссылка на 18 — Редактор PromQL-запросов" title="Прямая ссылка на 18 — Редактор PromQL-запросов">​</a></h2>
<p>Чтобы расширить возможности работы с данными, мы поддержали PromQL
(<a href="https://prometheus.io/docs/prometheus/latest/querying/basics/" target="_blank" rel="noopener noreferrer">Prometheus Query Language</a>).</p>
<p>Переключитесь в режим редактирования PromQL-запросов, чтобы реализовать более сложные сценарии просмотра данных:</p>
<img src="/statshouse/ru/assets/images/prom-1fc5a98a4fbe9ff52b71ba6a8f553d19.png" width="300">
<p>StatsHouse автоматически сгенерирует для вашего графика PromQL-запрос, описывающий текущее состояние графика.
Выполнить запрос можно в самом редакторе.</p>
<p>Чтобы переключиться обратно в &quot;кнопочный&quot; режим настройки графика, нажмите <em>Filter</em>:</p>
<img src="/statshouse/ru/assets/images/prom-query-aa2ed4beb89aabbac56cfa1e02bb614c.png" width="300">
<p>Узнайте больше о том, как <a href="/statshouse/ru/guides/query-wth-promql">работать с PromQL-запросами</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="19--вкладки-метрик">19 — Вкладки метрик<a href="#19--вкладки-метрик" class="hash-link" aria-label="Прямая ссылка на 19 — Вкладки метрик" title="Прямая ссылка на 19 — Вкладки метрик">​</a></h2>
<p>Вкладки метрик помогают <a href="/statshouse/ru/guides/dashboards">создавать дашборды</a> и
<a href="#11--%D0%BD%D0%B0%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9">накладывать события одной метрики на данные другой</a>.
Скопируйте текущий график на новую вкладку и выберите другую метрику.
Также можно скопировать URL графика и вставить его на новую вкладку метрики:</p>
<img src="/statshouse/ru/assets/images/metric-tabs-8ef206407e9ae368c011758099a84d0e.png" width="400">
<p>При необходимости вкладку можно удалить:</p>
<img src="/statshouse/ru/assets/images/metric-tab-delete-c1f9663f7555a1c73faf73845cf4681f.png" width="400">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20--график-в-новой-вкладке-браузера">20 — График в новой вкладке браузера<a href="#20--график-в-новой-вкладке-браузера" class="hash-link" aria-label="Прямая ссылка на 20 — График в новой вкладке браузера" title="Прямая ссылка на 20 — График в новой вкладке браузера">​</a></h2>
<p>Вместо того чтобы <a href="#15--%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8-%D0%B2-%D0%B1%D1%83%D1%84%D0%B5%D1%80-%D0%BE%D0%B1%D0%BC%D0%B5%D0%BD%D0%B0"><em>копировать ссылку на график в буфер обмена</em></a>, можно открыть её в новой
вкладке браузера.</p>
<p>Как и при <a href="#15--%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8-%D0%B2-%D0%B1%D1%83%D1%84%D0%B5%D1%80-%D0%BE%D0%B1%D0%BC%D0%B5%D0%BD%D0%B0">копировании ссылки</a>, в новой вкладке открывается только текущая вкладка
метрики, а режим <em>Live mode</em> не включается автоматически.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Страница документа"><a class="pagination-nav__link pagination-nav__link--prev" href="/statshouse/ru/guides/send-data"><div class="pagination-nav__sublabel">Предыдущая страница</div><div class="pagination-nav__label">Как отправлять данные</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/statshouse/ru/guides/dashboards"><div class="pagination-nav__sublabel">Следующая страница</div><div class="pagination-nav__label">Как пользоваться дашбордами</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1--название-метрики" class="table-of-contents__link toc-highlight">1 — Название метрики</a><ul><li><a href="#метрики-хостов" class="table-of-contents__link toc-highlight">Метрики хостов</a></li><li><a href="#служебные-метрики" class="table-of-contents__link toc-highlight">Служебные метрики</a></li><li><a href="#общие-метрики" class="table-of-contents__link toc-highlight">Общие метрики</a></li><li><a href="#как-найти-создателя-метрики" class="table-of-contents__link toc-highlight">&quot;Как найти создателя метрики?&quot;</a></li><li><a href="#как-отобразить-несколько-метрик-на-графике" class="table-of-contents__link toc-highlight">&quot;Как отобразить несколько метрик на графике?&quot;</a></li></ul></li><li><a href="#2--название-и-описание-графика" class="table-of-contents__link toc-highlight">2 — Название и описание графика</a></li><li><a href="#3--описательные-статистики" class="table-of-contents__link toc-highlight">3 — Описательные статистики</a></li><li><a href="#4--период-времени" class="table-of-contents__link toc-highlight">4 — Период времени</a></li><li><a href="#5--live-mode" class="table-of-contents__link toc-highlight">5 — Live mode</a></li><li><a href="#6--интервал-агрегации" class="table-of-contents__link toc-highlight">6 — Интервал агрегации</a><ul><li><a href="#auto-и-auto-low" class="table-of-contents__link toc-highlight"><em>Auto</em> и <em>Auto (low)</em></a></li><li><a href="#6a--дельта" class="table-of-contents__link toc-highlight">6a — &quot;Дельта&quot;</a></li><li><a href="#6b--пользовательское-разрешение" class="table-of-contents__link toc-highlight">6b — Пользовательское разрешение</a></li></ul></li><li><a href="#7--теги" class="table-of-contents__link toc-highlight">7 — Теги</a><ul><li><a href="#группировка-по-тегам" class="table-of-contents__link toc-highlight">Группировка по тегам</a></li><li><a href="#сортировка-по-алфавиту" class="table-of-contents__link toc-highlight">Сортировка по алфавиту</a></li><li><a href="#отмена-следующего-выбора" class="table-of-contents__link toc-highlight">Отмена следующего выбора</a></li></ul></li><li><a href="#8--top-n" class="table-of-contents__link toc-highlight">8 — Top N</a></li><li><a href="#9--max-host" class="table-of-contents__link toc-highlight">9 — Max host</a></li><li><a href="#10--таблица" class="table-of-contents__link toc-highlight">10 — Таблица</a></li><li><a href="#11--наложение-событий" class="table-of-contents__link toc-highlight">11 — Наложение событий</a></li><li><a href="#12--csv" class="table-of-contents__link toc-highlight">12 — CSV</a></li><li><a href="#13--метаметрики" class="table-of-contents__link toc-highlight">13 — Метаметрики</a><ul><li><a href="#receive-status" class="table-of-contents__link toc-highlight">Receive status</a></li><li><a href="#sampling" class="table-of-contents__link toc-highlight">Sampling</a></li><li><a href="#cardinality" class="table-of-contents__link toc-highlight">Cardinality</a></li><li><a href="#mapping-status" class="table-of-contents__link toc-highlight">Mapping status</a></li></ul></li><li><a href="#14--фиксированная-ось-y" class="table-of-contents__link toc-highlight">14 — Фиксированная ось Y</a></li><li><a href="#15--копирование-ссылки-в-буфер-обмена" class="table-of-contents__link toc-highlight">15 — Копирование ссылки в буфер обмена</a></li><li><a href="#16--масштабирование" class="table-of-contents__link toc-highlight">16 — Масштабирование</a></li><li><a href="#17--переключение-базы-данных" class="table-of-contents__link toc-highlight">17 — Переключение базы данных</a></li><li><a href="#18--редактор-promql-запросов" class="table-of-contents__link toc-highlight">18 — Редактор PromQL-запросов</a></li><li><a href="#19--вкладки-метрик" class="table-of-contents__link toc-highlight">19 — Вкладки метрик</a></li><li><a href="#20--график-в-новой-вкладке-браузера" class="table-of-contents__link toc-highlight">20 — График в новой вкладке браузера</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© StatsHouse, 2024 г.</div></div></div></footer></div>
</body>
</html>